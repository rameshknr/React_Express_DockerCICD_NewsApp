(this.webpackJsonpgitmanager=this.webpackJsonpgitmanager||[]).push([[0],{18:function(e,t,a){e.exports=a(28)},28:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),l=a.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(3),i=a(29),s=function(e){return r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{"data-testid":"card",className:"card mb-3",style:{width:"18rem"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("img",{src:e.image,"data-testid":"cardImage",className:"card-img-top",alt:"..."}),r.a.createElement("h3",{className:"card-title"},e.title),r.a.createElement("p",{className:"card-text"},e.description),r.a.createElement("button",{id:"readLaterDash","data-testid":"readLater",onClick:function(t){e.addData(t)}.bind(void 0,e.id),className:"btn btn-secondary float-right"},"Read Later"))))},m=function(e){return r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{"data-testid":"card",className:"card mb-3",style:{width:"18rem"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("img",{src:e.image,"data-testid":"cardImage",className:"card-img-top",alt:"..."}),r.a.createElement("h3",{className:"card-title"},e.title),r.a.createElement("p",{className:"card-text"},e.description),r.a.createElement("button",{id:"readLaterFilter","data-testid":"readLaterFilter",onClick:function(t){e.addDataFilter(t)}.bind(void 0,e.filterId),className:"btn btn-secondary float-right"},"Read Later"))))},d=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(""),d=Object(o.a)(s,2),u=d[0],p=d[1],h=Object(n.useState)(""),g=Object(o.a)(h,2),E=g[0],b=g[1],v=Object(n.useState)(""),f=Object(o.a)(v,2),N=f[0],y=f[1],w=Object(n.useState)(""),j=Object(o.a)(w,2),O=j[0],I=j[1],S=function(e){var t={};c.map((function(a){a.source.id===e&&(t=a)})),alert(t.title),fetch("http://localhost:8009/api/v1/news",{method:"POST",body:JSON.stringify({source:{id:t.source.id,name:t.source.name},author:t.author,title:t.title,content:t.content,urlToImage:t.urlToImage,description:t.description,url:t.url}),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}})};return r.a.createElement("div",null,r.a.createElement("button",{id:"NewsFilterData",type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#exampleModal"},"News Filter Data"),r.a.createElement("div",{className:"modal fade",id:"exampleModal","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"News Filter"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"form-group col-md-8"},r.a.createElement("input",{id:"country",type:"text",placeholder:"Enter Country",className:"form-control",onChange:function(e){return p(e.target.value)}})),r.a.createElement("div",{className:"form-group col-md-8"},r.a.createElement("input",{id:"category",type:"text",placeholder:"Enter Category",className:"form-control",onChange:function(e){return b(e.target.value)}})),r.a.createElement("div",{className:"form-group col-md-8"},r.a.createElement("input",{id:"sources",type:"text",placeholder:"Enter sources",className:"form-control",onChange:function(e){return y(e.target.value)}})),r.a.createElement("div",{className:"form-group col-md-8"},r.a.createElement("input",{id:"searchTextData",type:"text",placeholder:"Search Text",className:"form-control",onChange:function(e){return I(e.target.value)}}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{id:"searchNews",type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:function(){var e="https://newsapi.org/v2/top-headlines?";""!=u&&(e+="country=".concat(u,"&")),""!=E&&(e+="category=".concat(E,"&")),""!=N&&(e+="sources=".concat(N,"&")),""!=O&&(e+="q=".concat(O,"&")),(e+="apikey=166d16dcc1a741b99692f315fa254960&page=1").length>83&&fetch(e).then((function(e){return e.json()})).then((function(e){e.articles.map((function(e){e.source.id=Object(i.a)()})),l(e.articles)}))}()},"Apply"))))),r.a.createElement("div",{className:"row md-8"},c.map((function(e){return r.a.createElement(m,{addDataFilter:S,key:e.source.id,filterId:e.source.id,title:e.title,image:e.urlToImage,description:e.description})}))))},u=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],l=a[1];Object(n.useEffect)((function(){fetch("http://localhost:8008/trending/in",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e.articles.map((function(e){e.source.id=Object(i.a)()})),l(e.articles)}))}),[]);var m=function(e){var t={};c.map((function(a){a.source.id===e&&(t=a)})),fetch("http://localhost:8009/api/v1/news",{method:"POST",body:JSON.stringify({source:{id:t.source.id,name:t.source.name},author:t.author,title:t.title,content:t.content,urlToImage:t.urlToImage,description:t.description,url:t.url}),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}})};return r.a.createElement("div",{"data-testid":"content",className:"container mt-3"},r.a.createElement("div",{className:"row mb-3"},r.a.createElement(d,null)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"row"},r.a.createElement("h1",null,"Trending News In INDIA")),r.a.createElement("div",{className:"row"},c.map((function(e){return r.a.createElement(s,{addData:m,key:e.source.id,id:e.source.id,title:e.title,image:e.urlToImage,description:e.description})})))))},p=function(e){return r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{"data-testid":"card",className:"card mb-3",style:{width:"18rem"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("img",{src:e.image,"data-testid":"cardImage",className:"card-img-top",alt:"..."}),r.a.createElement("h3",{className:"card-title"},e.title),r.a.createElement("p",{className:"card-text"},e.description))))},h=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){fetch("http://localhost:8009/api/v1/news",{method:"GET"}).then((function(e){return e.json()})).then((function(e){c(e)}))}),[]),r.a.createElement("div",{className:"container mt-3"},r.a.createElement("div",{className:"row"},a.map((function(e){return r.a.createElement(p,{key:e.newsId,id:e.newsId,title:e.newsheading,image:e.newsImage,description:e.newsdescription})}))))},g=function(){return r.a.createElement("div",{"data-testid":"footer",className:"footer bg-danger"}," Copyright \xa9News API ")},E=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),i=Object(o.a)(l,2),s=i[0],m=i[1];return r.a.createElement("div",{"data-testid":"content",className:"container mt-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{id:"Username",type:"text",placeholder:"Enter Username",className:"form-control",onChange:function(e){return c(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{id:"password",type:"password",placeholder:"Enter Password",className:"form-control",onChange:function(e){return m(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{id:"loginBtn","data-testid":"btnPrimary",onClick:function(e){fetch("http://localhost:8010/api/auth/login",{method:"POST",body:JSON.stringify({username:a,password:s}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("token",e.token),fetch("http://localhost:8010/api/auth/isAuthenticated",{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("isAuthenticated",e.isAuthenticated)}))}))},type:"button",className:"btn btn-primary"},"Submit")))))},b=a(9),v=a(1),f=function(){return r.a.createElement("div",null,r.a.createElement(b.a,null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-primary"},r.a.createElement("a",{"data-testid":"header",className:"navbar-brand",href:"https://newsapi.org/"}," News API "),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(b.b,{id:"dashboard",className:"nav-link",to:"/"},"Dashboard ")),r.a.createElement("li",{className:"nav-item active"},r.a.createElement(b.b,{id:"readnow",className:"nav-link",to:"/readnow"},"Read Now ")),r.a.createElement("li",{className:"nav-item active"},r.a.createElement(b.b,{id:"login",className:"nav-link",to:"/login"},"Login "))))),r.a.createElement(v.d,null,r.a.createElement(v.b,{exact:!0,path:"/",component:function(){return localStorage.getItem("isAuthenticated")?r.a.createElement(u,null):r.a.createElement(v.a,{to:"/login"})}}),r.a.createElement(v.b,{exact:!0,path:"/readnow",component:function(){return localStorage.getItem("isAuthenticated")?r.a.createElement(h,null):r.a.createElement(v.a,{to:"/login"})}}),r.a.createElement(v.b,{exact:!0,path:"/login",component:E}))),r.a.createElement(g,null))};var N=function(){return r.a.createElement("div",{className:"main-content"},r.a.createElement(f,null))};l.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[18,1,2]]]);
//# sourceMappingURL=main.d81a1685.chunk.js.map